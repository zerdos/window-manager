{"version":3,"file":"simple-window-manager.min.js","sources":["../src/html.js","../node_modules/eventemitter3/index.js","../node_modules/clicked/dist/clicked.es.js","../src/Window.js","../src/images.js","../src/windowOptions.js","../src/Snap.js","../src/WindowManager.js"],"sourcesContent":["/**\r\n * shortcut to create an html element\r\n * @param {object} options\r\n * @param {type} [options.string=div]\r\n * @param {string} [options.className]\r\n * @param {object} [options.styles]\r\n * @param {HTMLElement} [options.parent]\r\n * @param {string} [options.html]\r\n * @returns {HTMLElement}\r\n */\r\nexport function html(options={})\r\n{\r\n    const object = document.createElement(options.type || 'div')\r\n    if (options.parent)\r\n    {\r\n        options.parent.appendChild(object)\r\n    }\r\n    if (options.styles)\r\n    {\r\n        Object.assign(object.style, options.styles)\r\n    }\r\n    if (options.className)\r\n    {\r\n        object.className = options.className\r\n    }\r\n    if (options.html)\r\n    {\r\n        object.innerHTML = options.html\r\n    }\r\n    return object\r\n}","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","const defaultOptions = {\n    threshold: 10,\n    clicked: true,\n    mouse: true,\n    touch: 1,\n    doubleClicked: false,\n    doubleClickedTime: 300,\n    longClicked: false,\n    longClickedTime: 500,\n    capture: false,\n    clickDown: false\n};\nexport function clicked(element, callback, options) {\n    return new Clicked(element, callback, options);\n}\nexport class Clicked {\n    constructor(element, callback, options) {\n        if (typeof element === 'string') {\n            element = document.querySelector(element);\n            if (!element) {\n                console.warn(`Unknown element: document.querySelector(${element}) in clicked()`);\n                return;\n            }\n        }\n        this.element = element;\n        this.callback = callback;\n        this.options = Object.assign(Object.assign({}, defaultOptions), options);\n        this.createListeners();\n    }\n    createListeners() {\n        this.events = {\n            mousedown: (e) => this.mousedown(e),\n            mouseup: (e) => this.mouseup(e),\n            mousemove: (e) => this.mousemove(e),\n            touchstart: (e) => this.touchstart(e),\n            touchmove: (e) => this.touchmove(e),\n            touchcancel: () => this.cancel(),\n            touchend: (e) => this.touchend(e)\n        };\n        this.element.addEventListener('mousedown', this.events.mousedown, { capture: this.options.capture });\n        this.element.addEventListener('mouseup', this.events.mouseup, { capture: this.options.capture });\n        this.element.addEventListener('mousemove', this.events.mousemove, { capture: this.options.capture });\n        this.element.addEventListener('touchstart', this.events.touchstart, { passive: true, capture: this.options.capture });\n        this.element.addEventListener('touchmove', this.events.touchmove, { passive: true, capture: this.options.capture });\n        this.element.addEventListener('touchcancel', this.events.touchcancel, { capture: this.options.capture });\n        this.element.addEventListener('touchend', this.events.touchend, { capture: this.options.capture });\n    }\n    destroy() {\n        this.element.removeEventListener('mousedown', this.events.mousedown);\n        this.element.removeEventListener('mouseup', this.events.mouseup);\n        this.element.removeEventListener('mousemove', this.events.mousemove);\n        this.element.removeEventListener('touchstart', this.events.touchstart);\n        this.element.removeEventListener('touchmove', this.events.touchmove);\n        this.element.removeEventListener('touchcancel', this.events.touchcancel);\n        this.element.removeEventListener('touchend', this.events.touchend);\n    }\n    touchstart(e) {\n        if (this.options.touch) {\n            if (this.down === true) {\n                this.cancel();\n            }\n            else {\n                if (this.options.touch === true || e.touches.length <= this.options.touch) {\n                    this.handleDown(e, e.changedTouches[0].screenX, e.changedTouches[0].screenY);\n                }\n            }\n        }\n    }\n    pastThreshold(x, y) {\n        return Math.abs(this.lastX - x) > this.options.threshold || Math.abs(this.lastY - y) > this.options.threshold;\n    }\n    touchmove(e) {\n        if (this.down) {\n            if (e.touches.length !== 1) {\n                this.cancel();\n            }\n            else {\n                const x = e.changedTouches[0].screenX;\n                const y = e.changedTouches[0].screenY;\n                if (this.pastThreshold(x, y)) {\n                    this.cancel();\n                }\n            }\n        }\n    }\n    cancel() {\n        this.down = false;\n        if (this.doubleClickedTimeout) {\n            clearTimeout(this.doubleClickedTimeout);\n            this.doubleClickedTimeout = null;\n        }\n        if (this.longClickedTimeout) {\n            clearTimeout(this.longClickedTimeout);\n            this.longClickedTimeout = null;\n        }\n    }\n    touchend(e) {\n        if (this.down) {\n            e.preventDefault();\n            this.handleClicks(e);\n        }\n    }\n    handleClicks(e) {\n        if (this.options.doubleClicked) {\n            this.doubleClickedTimeout = this.setTimeout(() => this.doubleClickedCancel(e), this.options.doubleClickedTime);\n        }\n        else if (this.options.clicked) {\n            this.callback({ event: e, type: 'clicked' });\n        }\n        if (this.longClickedTimeout) {\n            clearTimeout(this.longClickedTimeout);\n            this.longClickedTimeout = null;\n        }\n        this.down = false;\n    }\n    handleDown(e, x, y) {\n        if (this.doubleClickedTimeout) {\n            if (this.pastThreshold(x, y)) {\n                if (this.options.clicked) {\n                    this.callback({ event: e, type: 'clicked' });\n                }\n                this.cancel();\n            }\n            else {\n                this.callback({ event: e, type: 'double-clicked' });\n                this.cancel();\n            }\n        }\n        else {\n            this.lastX = x;\n            this.lastY = y;\n            this.down = true;\n            if (this.options.longClicked) {\n                this.longClickedTimeout = this.setTimeout(() => this.longClicked(e), this.options.longClickedTime);\n            }\n            if (this.options.clickDown) {\n                this.callback({ event: e, type: 'click-down' });\n            }\n        }\n    }\n    longClicked(e) {\n        this.longClickedTimeout = null;\n        this.down = false;\n        this.callback({ event: e, type: 'long-clicked' });\n    }\n    doubleClickedCancel(e) {\n        this.doubleClickedTimeout = null;\n        if (this.options.clicked) {\n            this.callback({ event: e, type: 'clicked' });\n        }\n    }\n    checkMouseButtons(e) {\n        if (this.options.mouse === false) {\n            return false;\n        }\n        else if (this.options.mouse === true) {\n            return true;\n        }\n        else if (e.button === 0) {\n            return this.options.mouse.indexOf('left') !== -1;\n        }\n        else if (e.button === 1) {\n            return this.options.mouse.indexOf('middle') !== -1;\n        }\n        else if (e.button === 2) {\n            return this.options.mouse.indexOf('right') !== -1;\n        }\n    }\n    mousedown(e) {\n        if (this.checkMouseButtons(e)) {\n            if (this.down === true) {\n                this.down = false;\n            }\n            else {\n                this.handleDown(e, e.screenX, e.screenY);\n            }\n        }\n    }\n    mousemove(e) {\n        if (this.down) {\n            const x = e.screenX;\n            const y = e.screenY;\n            if (this.pastThreshold(x, y)) {\n                this.cancel();\n            }\n        }\n    }\n    mouseup(e) {\n        if (this.down) {\n            e.preventDefault();\n            this.handleClicks(e);\n        }\n    }\n    setTimeout(callback, time) {\n        return setTimeout(callback, time);\n    }\n}\n//# sourceMappingURL=clicked.js.map","import Events from 'eventemitter3'\r\nimport { clicked } from 'clicked'\r\n\r\nimport { html } from './html'\r\n\r\n/**\r\n * Window class returned by WindowManager.createWindow()\r\n * @extends EventEmitter\r\n * @fires open\r\n * @fires focus\r\n * @fires blur\r\n * @fires close\r\n * @fires maximize\r\n * @fires maximize-restore\r\n * @fires move\r\n * @fires move-start\r\n * @fires move-end\r\n * @fires resize\r\n * @fires resize-start\r\n * @fires resize-end\r\n * @fires move-x\r\n * @fires move-y\r\n * @fires resize-width\r\n * @fires resize-height\r\n */\r\nexport class Window extends Events\r\n{\r\n    /**\r\n     * @param {WindowManager} [wm]\r\n     * @param {object} [options]\r\n     */\r\n    constructor(wm, options={})\r\n    {\r\n        super()\r\n        this.wm = wm\r\n        this.options = options\r\n        this.id = typeof this.options.id === 'undefined' ? Window.id++ : this.options.id\r\n        this._createWindow()\r\n        this._listeners()\r\n\r\n        this.active = false\r\n        this.maximized = false\r\n\r\n        this._closed = true\r\n        this._restore = null\r\n        this._moving = null\r\n        this._resizing = null\r\n        this._attachedToScreen = { vertical: '', horziontal: '' }\r\n    }\r\n\r\n    /**\r\n     * open the window\r\n     * @param {boolean} [noFocus] do not focus window when opened\r\n     */\r\n    open(noFocus)\r\n    {\r\n        if (this._closed)\r\n        {\r\n            this.win.style.display = 'block'\r\n            this._closed = false\r\n            this.emit('open', this)\r\n            if (!noFocus)\r\n            {\r\n                this.focus()\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * focus the window\r\n     */\r\n    focus()\r\n    {\r\n        this.active = true\r\n        if (this.options.titlebar)\r\n        {\r\n            this.winTitlebar.style.backgroundColor = this.options.backgroundTitlebarActive\r\n        }\r\n        this.emit('focus', this)\r\n    }\r\n\r\n    /**\r\n     * blur the window\r\n     */\r\n    blur()\r\n    {\r\n        this.active = false\r\n        if (this.options.titlebar)\r\n        {\r\n            this.winTitlebar.style.backgroundColor = this.options.backgroundTitlebarInactive\r\n        }\r\n        this.emit('blur', this)\r\n    }\r\n\r\n    /**\r\n     * closes the window (can be reopened with open)\r\n     */\r\n    close()\r\n    {\r\n        if (!this._closed)\r\n        {\r\n            this._closed = true\r\n            this.win.style.display = 'none'\r\n            this.emit('close', this)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * is window closed?\r\n     * @type {boolean}\r\n     * @readonly\r\n     */\r\n    get closed()\r\n    {\r\n        return this._closed\r\n    }\r\n\r\n    /**\r\n     * left coordinate\r\n     * @type {number}\r\n     */\r\n    get x() { return this.options.x }\r\n    set x(value)\r\n    {\r\n        if (value !== this.options.x)\r\n        {\r\n            this.options.x = value\r\n            this.emit('move-x', this)\r\n            this._buildTransform()\r\n        }\r\n    }\r\n\r\n    _buildTransform()\r\n    {\r\n        this.win.style.transform = `translate(${this.options.x}px,${this.options.y}px)`\r\n    }\r\n\r\n    /**\r\n     * top coordinate\r\n     * @type {number}\r\n     */\r\n    get y() { return this.options.y }\r\n    set y(value)\r\n    {\r\n        if (value !== this.options.y)\r\n        {\r\n            this.options.y = value\r\n            this._buildTransform()\r\n            this.emit('move-y', this)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * width of window\r\n     * @type {number}\r\n     */\r\n    get width() { return this.options.width || this.win.offsetWidth }\r\n    set width(value)\r\n    {\r\n        if (value !== this.options.width)\r\n        {\r\n            if (value)\r\n            {\r\n                this.win.style.width = `${value}px`\r\n                this.options.width = this.win.offsetWidth\r\n            }\r\n            else\r\n            {\r\n                this.win.style.width = 'auto'\r\n                this.options.width = ''\r\n            }\r\n            this.emit('resize-width', this)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * height of window\r\n     * @type {number}\r\n     */\r\n    get height() { return this.options.height || this.win.offsetHeight }\r\n    set height(value)\r\n    {\r\n        if (value !== this.options.height)\r\n        {\r\n            if (value)\r\n            {\r\n                this.win.style.height = `${value}px`\r\n                this.options.height = this.win.offsetHeight\r\n            }\r\n            else\r\n            {\r\n                this.win.style.height = 'auto'\r\n                this.options.height = ''\r\n            }\r\n            this.emit('resize-height', this)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * resize the window\r\n     * @param {number} width\r\n     * @param {number} height\r\n     */\r\n    resize(width, height)\r\n    {\r\n        this.width = width\r\n        this.height = height\r\n    }\r\n\r\n    /**\r\n     * move window\r\n     * @param {number} x\r\n     * @param {number} y\r\n     */\r\n    move(x, y)\r\n    {\r\n        const keepInside = this.keepInside\r\n        if (keepInside)\r\n        {\r\n            const bounds = this.bounds\r\n            if (keepInside === true || keepInside === 'horizontal')\r\n            {\r\n                x = x + this.width > bounds.right ? bounds.right - this.width : x\r\n                x = x < bounds.left ? bounds.left : x\r\n            }\r\n            if (keepInside === true || keepInside === 'vertical')\r\n            {\r\n                y = y + this.height > bounds.bottom ? bounds.bottom - this.height : y\r\n                y = y < bounds.top ? bounds.top : y\r\n            }\r\n        }\r\n        if (x !== this.options.x)\r\n        {\r\n            this.options.x = x\r\n            this.emit('move-x', this)\r\n        }\r\n        if (y !== this.options.y)\r\n        {\r\n            this.options.y = y\r\n            this.emit('move-y', this)\r\n        }\r\n        this._buildTransform()\r\n    }\r\n\r\n    /**\r\n     * maximize the window\r\n     */\r\n    maximize()\r\n    {\r\n        if (this.options.maximizable)\r\n        {\r\n            if (this.maximized)\r\n            {\r\n                this.x = this.maximized.x\r\n                this.y = this.maximized.y\r\n                this.width = this.maximized.width\r\n                this.height = this.maximized.height\r\n                this.maximized = null\r\n                this.emit('restore', this)\r\n                this.buttons.maximize.innerHTML = this.options.maximizeButton\r\n            }\r\n            else\r\n            {\r\n                const x = this.x, y = this.y, width = this.win.offsetWidth, height = this.win.offsetHeight\r\n                this.maximized = { x, y, width, height }\r\n                this.x = 0\r\n                this.y = 0\r\n                this.width = this.wm.overlay.offsetWidth\r\n                this.height = this.wm.overlay.offsetHeight\r\n                this.emit('maximize', this)\r\n                this.buttons.maximize.innerHTML = this.options.restoreButton\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * sends window to back of window-manager\r\n     */\r\n    sendToBack()\r\n    {\r\n        this.wm.sendToBack(this)\r\n    }\r\n\r\n    /**\r\n     * send window to front of window-manager\r\n     */\r\n    sendToFront()\r\n    {\r\n        this.wm.sendToFront(this)\r\n    }\r\n\r\n    /**\r\n     * save the state of the window\r\n     * @return {object} data\r\n     */\r\n    save()\r\n    {\r\n        const data = {}\r\n        const maximized = this.maximized\r\n        if (maximized)\r\n        {\r\n            data.maximized = { left: maximized.left, top: maximized.top, width: maximized.width, height: maximized.height }\r\n        }\r\n        data.x = this.x\r\n        data.y = this.y\r\n        if (typeof this.options.width !== 'undefined')\r\n        {\r\n            data.width = this.options.width\r\n        }\r\n        if (typeof this.options.height !== 'undefined')\r\n        {\r\n            data.height = this.options.height\r\n        }\r\n        data.closed = this._closed\r\n        return data\r\n    }\r\n\r\n    /**\r\n     * return the state of the window\r\n     * @param {object} data from save()\r\n     */\r\n    load(data)\r\n    {\r\n        if (data.maximized)\r\n        {\r\n            if (!this.maximized)\r\n            {\r\n                this.maximize(true)\r\n            }\r\n        }\r\n        else if (this.maximized)\r\n        {\r\n            this.maximize(true)\r\n        }\r\n        this.x = data.x\r\n        this.y = data.y\r\n        if (typeof data.width !== 'undefined')\r\n        {\r\n            this.width = data.width\r\n        }\r\n        else\r\n        {\r\n            this.win.style.width = 'auto'\r\n        }\r\n        if (typeof data.height !== 'undefined')\r\n        {\r\n            this.height = data.height\r\n        }\r\n        else\r\n        {\r\n            this.win.style.height = 'auto'\r\n        }\r\n        if (data.closed)\r\n        {\r\n            this.close(true)\r\n        }\r\n        else if (this.closed)\r\n        {\r\n            this.open(true, true)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * change title\r\n     * @type {string}\r\n     */\r\n    get title() { return this._title }\r\n    set title(value)\r\n    {\r\n        this.winTitle.innerText = value\r\n        this.emit('title-change', this)\r\n    }\r\n\r\n\r\n    /**\r\n     * right coordinate of window\r\n     * @type {number}\r\n     */\r\n    get right() { return this.x + this.width }\r\n    set right(value)\r\n    {\r\n        this.x = value - this.width\r\n    }\r\n\r\n    /**\r\n     * bottom coordinate of window\r\n     * @type {number}\r\n     */\r\n    get bottom() { return this.y + this.height }\r\n    set bottom(value)\r\n    {\r\n        this.y = value - this.height\r\n    }\r\n\r\n    /**\r\n     * centers window in middle of other window or document.body\r\n     * @param {Window} [win]\r\n     */\r\n    center(win)\r\n    {\r\n        if (win)\r\n        {\r\n            this.move(\r\n                win.x + win.width / 2 - this.width / 2,\r\n                win.y + win.height / 2 - this.height / 2\r\n            )\r\n        }\r\n        else\r\n        {\r\n            this.move(\r\n                window.innerWidth / 2 - this.width / 2,\r\n                window.innerHeight / 2 - this.height / 2\r\n            )\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Fires when window is maximized\r\n     * @event Window#maximize\r\n     * @type {Window}\r\n     */\r\n\r\n    /**\r\n     * Fires when window is restored to normal after being maximized\r\n     * @event Window#maximize-restore\r\n     * @type {Window}\r\n     */\r\n\r\n    /**\r\n     * Fires when window opens\r\n     * @event Window#open\r\n     * @type {Window}\r\n     */\r\n\r\n    /**\r\n     * Fires when window gains focus\r\n     * @event Window#focus\r\n     * @type {Window}\r\n     */\r\n    /**\r\n     * Fires when window loses focus\r\n     * @event Window#blur\r\n     * @type {Window}\r\n     */\r\n    /**\r\n     * Fires when window closes\r\n     * @event Window#close\r\n     * @type {Window}\r\n     */\r\n\r\n    /**\r\n     * Fires when resize starts\r\n     * @event Window#resize-start\r\n     * @type {Window}\r\n     */\r\n\r\n    /**\r\n     * Fires after resize completes\r\n     * @event Window#resize-end\r\n     * @type {Window}\r\n     */\r\n\r\n    /**\r\n     * Fires during resizing\r\n     * @event Window#resize\r\n     * @type {Window}\r\n     */\r\n\r\n    /**\r\n     * Fires when move starts\r\n     * @event Window#move-start\r\n     * @type {Window}\r\n     */\r\n\r\n    /**\r\n     * Fires after move completes\r\n     * @event Window#move-end\r\n     * @type {Window}\r\n     */\r\n\r\n    /**\r\n     * Fires during move\r\n     * @event Window#move\r\n     * @type {Window}\r\n     */\r\n\r\n    /**\r\n     * Fires when width is changed\r\n     * @event Window#resize-width\r\n     * @type {Window}\r\n     */\r\n\r\n    /**\r\n     * Fires when height is changed\r\n     * @event Window#resize-height\r\n     * @type {Window}\r\n     */\r\n\r\n    /**\r\n     * Fires when x position of window is changed\r\n     * @event Window#move-x\r\n     * @type {Window}\r\n     */\r\n\r\n\r\n    /**\r\n     * Fires when y position of window is changed\r\n     * @event Window#move-y\r\n     * @type {Window}\r\n     */\r\n\r\n    _createWindow()\r\n    {\r\n        /**\r\n         * This is the top-level DOM element\r\n         * @type {HTMLElement}\r\n         * @readonly\r\n         */\r\n        this.win = html({\r\n            parent: (this.wm ? this.wm.win : null), styles: {\r\n                'display': 'none',\r\n                'border-radius': this.options.borderRadius,\r\n                'user-select': 'none',\r\n                'overflow': 'hidden',\r\n                'position': 'absolute',\r\n                'min-width': this.options.minWidth,\r\n                'min-height': this.options.minHeight,\r\n                'box-shadow': this.options.shadow,\r\n                'background-color': this.options.backgroundWindow,\r\n                'width': isNaN(this.options.width) ? this.options.width : this.options.width + 'px',\r\n                'height': isNaN(this.options.height) ? this.options.height : this.options.height + 'px',\r\n                ...this.options.styles\r\n            },\r\n            className: this.options.classNames.win\r\n        })\r\n\r\n        this.winBox = html({\r\n            parent: this.win, styles: {\r\n                'display': 'flex',\r\n                'flex-direction': 'column',\r\n                'width': '100%',\r\n                'height': '100%',\r\n                'min-height': this.options.minHeight\r\n            },\r\n            className: this.options.classNames.winBox\r\n        })\r\n        this._createTitlebar()\r\n\r\n        /**\r\n         * This is the content DOM element. Use this to add content to the Window.\r\n         * @type {HTMLElement}\r\n         * @readonly\r\n         */\r\n        this.content = html({\r\n            parent: this.winBox, type: 'section', styles: {\r\n                'display': 'block',\r\n                'flex': 1,\r\n                'min-height': this.minHeight,\r\n                'overflow-x': 'hidden',\r\n                'overflow-y': 'auto'\r\n            },\r\n            className: this.options.classNames.content\r\n        })\r\n\r\n        if (this.options.resizable)\r\n        {\r\n            this._createResize()\r\n        }\r\n\r\n        this.overlay = html({\r\n            parent: this.win, styles: {\r\n                'display': 'none',\r\n                'position': 'absolute',\r\n                'left': 0,\r\n                'top': 0,\r\n                'width': '100%',\r\n                'height': '100%'\r\n            },\r\n            className: this.options.classNames.overlay\r\n        })\r\n        this.overlay.addEventListener('mousedown', (e) => { this._downTitlebar(e); e.stopPropagation() })\r\n        this.overlay.addEventListener('touchstart', (e) => { this._downTitlebar(e); e.stopPropagation() })\r\n        this._buildTransform()\r\n    }\r\n\r\n    _downTitlebar(e)\r\n    {\r\n        const event = this._convertMoveEvent(e)\r\n        this._moving = {\r\n            x: event.pageX - this.x,\r\n            y: event.pageY - this.y\r\n        }\r\n        this.emit('move-start', this)\r\n        this._moved = false\r\n    }\r\n\r\n    _createTitlebar()\r\n    {\r\n        if (this.options.titlebar)\r\n        {\r\n            this.winTitlebar = html({\r\n                parent: this.winBox, type: 'header', styles: {\r\n                    'user-select': 'none',\r\n                    'display': 'flex',\r\n                    'flex-direction': 'row',\r\n                    'align-items': 'center',\r\n                    'justify-content': 'center',\r\n                    'height': this.options.titlebarHeight,\r\n                    'min-height': this.options.titlebarHeight,\r\n                    'border': 0,\r\n                    'padding': '0 8px',\r\n                    'overflow': 'hidden',\r\n                },\r\n                className: this.options.classNames.titlebar\r\n            })\r\n            const winTitleStyles = {\r\n                'user-select': 'none',\r\n                'flex': 1,\r\n                'display': 'flex',\r\n                'flex-direction': 'row',\r\n                'align-items': 'center',\r\n                'user-select': 'none',\r\n                'cursor': 'default',\r\n                'padding': 0,\r\n                'margin': 0,\r\n                'font-size': '16px',\r\n                'font-weight': 400,\r\n                'color': this.options.foregroundTitle\r\n            }\r\n            if (this.options.titleCenter)\r\n            {\r\n                winTitleStyles['justify-content'] = 'center'\r\n            }\r\n            else\r\n            {\r\n                winTitleStyles['padding-left'] = '8px'\r\n\r\n            }\r\n            this.winTitle = html({ parent: this.winTitlebar, type: 'span', html: this.options.title, styles: winTitleStyles, className: this.options.classNames.winTitle })\r\n            this._createButtons()\r\n\r\n            if (this.options.movable)\r\n            {\r\n                this.winTitlebar.addEventListener('mousedown', (e) => this._downTitlebar(e))\r\n                this.winTitlebar.addEventListener('touchstart', (e) => this._downTitlebar(e))\r\n            }\r\n            if (this.options.maximizable)\r\n            {\r\n                clicked(this.winTitlebar, () => this.maximize(), { doubleClicked: true, clicked: false})\r\n            }\r\n        }\r\n    }\r\n\r\n    _createButtons()\r\n    {\r\n        this.winButtonGroup = html({\r\n            parent: this.winTitlebar, styles: {\r\n                'display': 'flex',\r\n                'flex-direction': 'row',\r\n                'align-items': 'center',\r\n                'padding-left': '10px'\r\n            },\r\n            className: this.options.classNames.winButtonGroup\r\n        })\r\n        const button = {\r\n            'display': 'inline-block',\r\n            'border': 0,\r\n            'margin': 0,\r\n            'margin-left': '15px',\r\n            'padding': 0,\r\n            'width': '12px',\r\n            'height': '12px',\r\n            'background-color': 'transparent',\r\n            'background-size': 'cover',\r\n            'background-repeat': 'no-repeat',\r\n            'opacity': .7,\r\n            'color': this.options.foregroundButton,\r\n            'outline': 0\r\n        }\r\n        this.buttons = {}\r\n        if (this.options.maximizable)\r\n        {\r\n            this.buttons.maximize = html({ parent: this.winButtonGroup, html: this.options.maximizeButton, type: 'button', styles: button, className: this.options.maximize })\r\n            clicked(this.buttons.maximize, () => this.maximize())\r\n        }\r\n        if (this.options.closable)\r\n        {\r\n            this.buttons.close = html({ parent: this.winButtonGroup, html: this.options.closeButton, type: 'button', styles: button, className: this.options.close })\r\n            clicked(this.buttons.close, () => this.close())\r\n        }\r\n        for (let key in this.buttons)\r\n        {\r\n            const button = this.buttons[key]\r\n            button.addEventListener('mousemove', () =>\r\n            {\r\n                button.style.opacity = 1\r\n            })\r\n            button.addEventListener('mouseout', () =>\r\n            {\r\n                button.style.opacity = 0.7\r\n            })\r\n        }\r\n    }\r\n\r\n    _createResize()\r\n    {\r\n        this.resizeEdge = html({\r\n            parent: this.winBox, type: 'button', html: this.options.backgroundResize, styles: {\r\n                'position': 'absolute',\r\n                'bottom': 0,\r\n                'right': '4px',\r\n                'border': 0,\r\n                'margin': 0,\r\n                'padding': 0,\r\n                'cursor': 'se-resize',\r\n                'user-select': 'none',\r\n                'height': '15px',\r\n                'width': '10px',\r\n                'background': 'none'\r\n            },\r\n            className: this.options.classNames.resizeEdge\r\n        })\r\n        const down = e => {\r\n            const event = this._convertMoveEvent(e)\r\n            const width = this.width || this.win.offsetWidth\r\n            const height = this.height || this.win.offsetHeight\r\n            this._resizing = {\r\n                width: width - event.pageX,\r\n                height: height - event.pageY\r\n            }\r\n            this.emit('resize-start')\r\n            e.preventDefault()\r\n        }\r\n        this.resizeEdge.addEventListener('mousedown', down)\r\n        this.resizeEdge.addEventListener('touchstart', down)\r\n    }\r\n\r\n    _move(e)\r\n    {\r\n        const event = this._convertMoveEvent(e)\r\n\r\n        if (!this._isTouchEvent(e) && e.which !== 1)\r\n        {\r\n            if (this._moving)\r\n            {\r\n                this._stopMove()\r\n            }\r\n            if (this._resizing)\r\n            {\r\n                this._stopResize()\r\n            }\r\n        }\r\n        if (this._moving)\r\n        {\r\n            this.move(event.pageX - this._moving.x, event.pageY - this._moving.y)\r\n            this.emit('move', this)\r\n            e.preventDefault()\r\n        }\r\n        if (this._resizing)\r\n        {\r\n            this.resize(\r\n                event.pageX + this._resizing.width,\r\n                event.pageY + this._resizing.height\r\n            )\r\n            this.maximized = null\r\n            this.emit('resize', this)\r\n            e.preventDefault()\r\n        }\r\n    }\r\n\r\n    _up()\r\n    {\r\n        if (this._moving)\r\n        {\r\n            this._stopMove()\r\n        }\r\n        if (this._resizing)\r\n        {\r\n            this._stopResize()\r\n        }\r\n    }\r\n\r\n    _listeners()\r\n    {\r\n        this.win.addEventListener('mousedown', () => this.focus())\r\n        this.win.addEventListener('touchstart', () => this.focus())\r\n    }\r\n\r\n    _stopMove()\r\n    {\r\n        this._moving = null\r\n        this.emit('move-end', this)\r\n    }\r\n\r\n    _stopResize()\r\n    {\r\n        this._restore = this._resizing = null\r\n        this.emit('resize-end', this)\r\n    }\r\n\r\n    _isTouchEvent(e)\r\n    {\r\n        return !!window.TouchEvent && (e instanceof window.TouchEvent)\r\n    }\r\n\r\n    _convertMoveEvent(e)\r\n    {\r\n        return this._isTouchEvent(e) ? e.changedTouches[0] : e\r\n    }\r\n\r\n    /**\r\n     * attaches window to a side of the screen\r\n     * @param {('horizontal'|'vertical')} direction\r\n     * @param {('left'|'right'|'top'|'bottom')} location\r\n     */\r\n    attachToScreen(direction, location)\r\n    {\r\n        this._attachedToScreen[direction] = location\r\n    }\r\n\r\n    /**\r\n     * @param {Bounds} bounds\r\n     * @param {(boolean|'horizontal'|'vertical')} keepInside\r\n     */\r\n    resizePlacement(bounds, keepInside)\r\n    {\r\n        this.bounds = bounds\r\n        this.keepInside = keepInside\r\n        let x = this.x\r\n        let y = this.y\r\n        x = this._attachedToScreen.horziontal === 'right' ? bounds.right - this.width : x\r\n        x = this._attachedToScreen.horizontal === 'left' ? bounds.left : x\r\n        y = this._attachedToScreen.vertical === 'bottom' ? bounds.bottom - this.height : y\r\n        y = this._attachedToScreen.vertical === 'top' ? bounds.top : y\r\n        this.move(x, y)\r\n    }\r\n\r\n    /**\r\n     * @param {boolean} [ignoreClosed]\r\n     * @returns {boolean}\r\n     */\r\n    isModal(ignoreClosed)\r\n    {\r\n        return (ignoreClosed || !this._closed) && this.options.modal\r\n    }\r\n\r\n    /** @returns {boolean} */\r\n    isClosed()\r\n    {\r\n        return this._closed\r\n    }\r\n\r\n    get z()\r\n    {\r\n        return parseInt(this.win.style.zIndex)\r\n    }\r\n    set z(value)\r\n    {\r\n        this.win.style.zIndex = value\r\n    }\r\n}\r\n\r\nWindow.id = 0","export const close='<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?><!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 20 20\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;\"><rect id=\"close\" x=\"0\" y=\"0\" width=\"20\" height=\"20\" style=\"fill:none;\"/><g><path d=\"M3.5,3.5l13,13\" style=\"fill:none;stroke:#fff;stroke-width:3px;\"/><path d=\"M16.5,3.5l-13,13\" style=\"fill:none;stroke:#fff;stroke-width:3px;\"/></g></svg>';export const maximize='<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?><!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 20 20\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;\"><rect id=\"maximize\" x=\"0\" y=\"0\" width=\"20\" height=\"20\" style=\"fill:none;\"/><rect x=\"2\" y=\"2\" width=\"16\" height=\"16\" style=\"fill:none;stroke:#fff;stroke-width:2px;\"/><rect x=\"2\" y=\"2\" width=\"16\" height=\"3.2\" style=\"fill:#fff;\"/></svg>';export const minimize='<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?><!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 20 20\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\"><rect id=\"minimize\" x=\"0\" y=\"0\" width=\"20\" height=\"20\" style=\"fill:none;\"/><rect x=\"2\" y=\"15.6\" width=\"16\" height=\"3.2\" style=\"fill:#fff;\"/></svg>';export const resize='<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?><!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 20 20\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\"><rect id=\"resize\" x=\"0\" y=\"0\" width=\"20\" height=\"20\" style=\"fill:none;\"/><clipPath id=\"_clip1\"><rect x=\"0\" y=\"0\" width=\"20\" height=\"20\"/></clipPath><g clip-path=\"url(#_clip1)\"><rect x=\"0\" y=\"16.8\" width=\"20\" height=\"3.2\" style=\"fill:#fff;\"/><path d=\"M17.737,3.595l-14.142,14.142l2.263,2.263l14.142,-14.142l-2.263,-2.263Z\" style=\"fill:#fff;\"/><path d=\"M16.8,0l0,20l3.2,0l0,-20l-3.2,0Z\" style=\"fill:#fff;\"/><path d=\"M7.099,18.4l11.301,-11.123l0,11.123l-11.301,0Z\" style=\"fill:#fff;\"/></g></svg>';export const restore='<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?><!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 20 20\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;\"><rect id=\"restore\" x=\"0\" y=\"0\" width=\"20\" height=\"20\" style=\"fill:none;\"/><g><rect x=\"7\" y=\"2.5\" width=\"10\" height=\"10\" style=\"fill:none;stroke:#fff;stroke-width:1.5px;\"/><rect x=\"7\" y=\"2.5\" width=\"10\" height=\"2\" style=\"fill:#fff;\"/></g><g><rect x=\"3\" y=\"7.5\" width=\"10\" height=\"10\" style=\"fill:none;stroke:#fff;stroke-width:1.5px;\"/><g><rect x=\"3\" y=\"7.5\" width=\"10\" height=\"2\" style=\"fill:#fff;\"/></g></g></svg>';","import { close, maximize, restore, resize } from './images'\r\n\r\n/**\r\n * @typedef {object} WindowOptions\r\n * @property {number} [x=0]\r\n * @property {number} [y=0]\r\n * @property {number} [width]\r\n * @property {number} [height]\r\n * @property {boolean} [modal]\r\n * @property {boolean} [openOnCreate=true]\r\n * @property {boolean} [movable=true]\r\n * @property {boolean} [resizable=true]\r\n * @property {boolean} [maximizable=true]\r\n * @property {boolean} [closable=true]\r\n * @property {boolean} [noSnap] don't snap this window or use this window as a snap target\r\n * @property {boolean} [titlebar=true]\r\n * @property {string} [titlebarHeight=36px]\r\n * @property {boolean} [titleCenter]\r\n * @property {string} [minWidth=200px]\r\n * @property {string} [minHeight=60px]\r\n * @property {string} [borderRadius=4px]\r\n * @property {object} [styles]\r\n * @property {string} [shadow='0 0 12px 1px rgba(0, 0, 0, 0.6)']\r\n * @property {number} [animateTime=250]\r\n * @property {string} [backgroundModal=rgba(0,0,0,0.6)]\r\n * @property {string} [backgroundWindow=#fefefe]\r\n * @property {string} [backgroundTitlebarActive=#365d98]\r\n * @property {string} [backgroundTitlebarInactive=#888888]\r\n * @property {string} [foregroundButton=#ffffff]\r\n * @property {string} [foregroundTitle=#ffffff]\r\n * @property {string} [maximizeButton=...]\r\n * @property {string} [closeButton=...]\r\n * @property {string} [resize=...]\r\n */\r\nexport const windowOptions = {\r\n    x: 0,\r\n    y: 0,\r\n    width: undefined,\r\n    height: undefined,\r\n    modal: false,\r\n    openOnCreate: true,\r\n\r\n    classNames: {},\r\n\r\n    minWidth: '200px',\r\n    minHeight: '60px',\r\n    borderRadius: 0,\r\n    styles: {},\r\n\r\n    shadow: 'none',\r\n    movable: true,\r\n    resizable: true,\r\n    maximizable: true,\r\n    closable: true,\r\n\r\n    titlebar: true,\r\n    titlebarHeight: '2rem',\r\n\r\n    backgroundModal: 'rgba(0, 0, 0, 0.6)',\r\n    backgroundWindow: '#fefefe',\r\n    backgroundTitlebarActive: '#365d98',\r\n    backgroundTitlebarInactive: '#888888',\r\n    foregroundButton: '#ffffff',\r\n    foregroundTitle: '#ffffff',\r\n\r\n    closeButton: close,\r\n    maximizeButton: maximize,\r\n    restoreButton: restore,\r\n\r\n    backgroundResize: resize\r\n}","import { html } from './html'\n\nconst DEFAULT_COLOR = '#a8f0f4'\nconst DEFAULT_SIZE = 10\n\nconst SnapOptionsDefault = {\n    screen: true,\n    windows: true,\n    snap: 20,\n    color: DEFAULT_COLOR,\n    spacing: 5,\n    indicator: DEFAULT_SIZE\n}\n\nexport class Snap\n{\n    /**\n     * add edge snapping plugin\n     * @param {WindowManager} wm\n     * @param {object} [options]\n     * @param {boolean} [options.screen=true] snap to screen edges\n     * @param {boolean} [options.windows=true] snap to window edges\n     * @param {number} [options.snap=20] distance to edge in pixels before snapping and width/height of snap bars\n     * @param {string} [options.color=#a8f0f4] color for snap bars\n     * @param {number} [options.spacing=5] spacing distance between window and edges\n     * @param {number} [options.indicator=10] size in pixels of snapping indicator (the indicator is actually twice the size of what is shown)\n     */\n    constructor(wm, options={})\n    {\n        this.wm = wm\n        this.options = Object.assign({}, SnapOptionsDefault, options)\n        this.highlights = html({ parent: this.wm.overlay, styles: { 'position': 'absolute' } })\n        this.horizontal = html({\n            parent: this.highlights, styles: {\n                display: 'none',\n                position: 'absolute',\n                height: `${this.options.indicator}px`,\n                borderRadius: `${this.options.indicator}px`,\n                backgroundColor: this.options.color\n            }\n        })\n        this.vertical = html({\n            parent: this.highlights, styles: {\n                display: 'none',\n                position: 'absolute',\n                width: `${this.options.indicator}px`,\n                borderRadius: `${this.options.indicator}px`,\n                backgroundColor: this.options.color\n            }\n        })\n        this.horizontal\n        this.showing = []\n    }\n\n    stop()\n    {\n        this.highlights.remove()\n        this.stopped = true\n    }\n\n    addWindow(win)\n    {\n        win.on('move', () => this.move(win))\n        win.on('move-end', () => this.moveEnd(win))\n    }\n\n    screenMove(rect, horizontal, vertical)\n    {\n        const width = document.body.clientWidth\n        const height = document.body.clientHeight\n        if (rect.left - this.options.snap <= width && rect.right + this.options.snap >= 0)\n        {\n            if (Math.abs(rect.top - 0) <= this.options.snap)\n            {\n                horizontal.push({ distance: Math.abs(rect.top - 0), left: 0, width, top: 0, side: 'top', screen: true })\n            }\n            else if (Math.abs(rect.bottom - height) <= this.options.snap)\n            {\n                horizontal.push({ distance: Math.abs(rect.bottom - height), left: 0, width, top: height, side: 'bottom', screen: true })\n            }\n        }\n        if (rect.top - this.options.snap <= height && rect.bottom + this.options.snap >= 0)\n        {\n            if (Math.abs(rect.left - 0) <= this.options.snap)\n            {\n                vertical.push({ distance: Math.abs(rect.left - 0), top: 0, height, left: 0, side: 'left', screen: true })\n            }\n            else if (Math.abs(rect.right - width) <= this.options.snap)\n            {\n                vertical.push({ distance: Math.abs(rect.right - width), top: 0, height, left: width, side: 'right', screen: true })\n            }\n        }\n    }\n\n    windowsMove(original, rect, horizontal, vertical)\n    {\n        for (let win of this.wm.windows)\n        {\n            if (!win.options.noSnap && win !== original)\n            {\n                const rect2 = win.win.getBoundingClientRect()\n                if (rect.left - this.options.snap <= rect2.right && rect.right + this.options.snap >= rect2.left)\n                {\n                    if (Math.abs(rect.top - rect2.bottom) <= this.options.snap)\n                    {\n                        horizontal.push({ distance: Math.abs(rect.top - rect2.bottom), left: rect2.left, width: rect2.width, top: rect2.bottom, side: 'top' })\n                        if (Math.abs(rect.left - rect2.left) <= this.options.snap)\n                        {\n                            vertical.push({ distance: Math.abs(rect.left - rect2.left), top: rect2.top, height: rect2.height, left: rect2.left, side: 'left', noSpacing: true })\n                        }\n                        else if (Math.abs(rect.right - rect2.right) <= this.options.snap)\n                        {\n                            vertical.push({ distance: Math.abs(rect.right - rect2.right), top: rect2.top, height: rect2.height, left: rect2.right, side: 'right', noSpacing: true })\n                        }\n                    }\n                    else if (Math.abs(rect.bottom - rect2.top) <= this.options.snap)\n                    {\n                        horizontal.push({ distance: Math.abs(rect.bottom - rect2.top), left: rect2.left, width: rect2.width, top: rect2.top, side: 'bottom' })\n                        if (Math.abs(rect.left - rect2.left) <= this.options.snap)\n                        {\n                            vertical.push({ distance: Math.abs(rect.left - rect2.left), top: rect2.top, height: rect2.height, left: rect2.left, side: 'left', noSpacing: true })\n                        }\n                        else if (Math.abs(rect.right - rect2.right) <= this.options.snap)\n                        {\n                            vertical.push({ distance: Math.abs(rect.right - rect2.right), top: rect2.top, height: rect2.height, left: rect2.right, side: 'right', noSpacing: true })\n                        }\n                    }\n                }\n                if (rect.top - this.options.snap <= rect2.bottom && rect.bottom + this.options.snap >= rect2.top)\n                {\n                    if (Math.abs(rect.left - rect2.right) <= this.options.snap)\n                    {\n                        vertical.push({ distance: Math.abs(rect.left - rect2.right), top: rect2.top, height: rect2.height, left: rect2.right, side: 'left' })\n                        if (Math.abs(rect.top - rect2.top) <= this.options.snap)\n                        {\n                            horizontal.push({ distance: Math.abs(rect.top - rect2.top), left: rect2.left, width: rect2.width, top: rect2.top, side: 'top', noSpacing: true })\n                        }\n                        else if (Math.abs(rect.bottom - rect2.bottom) <= this.options.snap)\n                        {\n                            horizontal.push({ distance: Math.abs(rect.bottom - rect2.bottom), left: rect2.left, width: rect2.width, top: rect2.bottom, side: 'bottom', noSpacing: true })\n                        }\n                    }\n                    else if (Math.abs(rect.right - rect2.left) <= this.options.snap)\n                    {\n                        vertical.push({ distance: Math.abs(rect.right - rect2.left), top: rect2.top, height: rect2.height, left: rect2.left, side: 'right' })\n                        if (Math.abs(rect.top - rect2.top) <= this.options.snap)\n                        {\n                            horizontal.push({ distance: Math.abs(rect.top - rect2.top), left: rect2.left, width: rect2.width, top: rect2.top, side: 'top', noSpacing: true })\n                        }\n                        else if (Math.abs(rect.bottom - rect2.bottom) <= this.options.snap)\n                        {\n                            horizontal.push({ distance: Math.abs(rect.bottom - rect2.bottom), left: rect2.left, width: rect2.width, top: rect2.bottom, side: 'bottom', noSpacing: true })\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    move(win)\n    {\n        if (this.stopped || win.options.noSnap || win.isModal())\n        {\n            return\n        }\n        this.horizontal.style.display = 'none'\n        this.vertical.style.display = 'none'\n        const horizontal = []\n        const vertical = []\n        const rect = win.win.getBoundingClientRect()\n        if (this.options.screen)\n        {\n            this.screenMove(rect, horizontal, vertical)\n        }\n        if (this.options.windows)\n        {\n            this.windowsMove(win, rect, horizontal, vertical)\n        }\n        if (horizontal.length)\n        {\n            horizontal.sort((a, b) => { return a.distance - b.distance })\n            const find = horizontal[0]\n            this.horizontal.style.display = 'block'\n            this.horizontal.style.width = find.width + 'px'\n            this.horizontal.y = find.top - this.options.indicator / 2\n            this.horizontal.style.transform = `translate(${find.left}px,${this.horizontal.y}px)`\n            this.horizontal.side = find.side\n            this.horizontal.noSpacing = find.noSpacing\n            this.horizontal.screen = find.screen\n        }\n        if (vertical.length)\n        {\n            vertical.sort((a, b) => { return a.distance - b.distance })\n            const find = vertical[0]\n            this.vertical.style.display  = 'block'\n            this.vertical.style.height = find.height + 'px'\n            this.vertical.x = find.left - this.options.indicator / 2\n            this.vertical.style.transform = `translate(${this.vertical.x}px,${find.top}px)`\n            this.vertical.side = find.side\n            this.vertical.noSpacing = find.noSpacing\n            this.vertical.screen = find.screen\n        }\n    }\n\n    moveEnd(win)\n    {\n        if (this.stopped)\n        {\n            return\n        }\n        if (this.horizontal.style.display === 'block')\n        {\n            const spacing = this.horizontal.noSpacing ? 0 : this.options.spacing\n            const adjust = win.minimized ? (win.height - win.height * win.minimized.scaleY) / 2 : 0\n            switch (this.horizontal.side)\n            {\n                case 'top':\n                    win.y = this.horizontal.y - adjust + spacing + this.options.indicator / 2\n                    break\n\n                case 'bottom':\n                    win.bottom = Math.floor(this.horizontal.y + adjust - spacing + this.options.indicator / 2)\n                    break\n            }\n            win.attachToScreen('vertical', this.horizontal.screen ? this.horizontal.side : '')\n        }\n        if (this.vertical.style.display === 'block')\n        {\n            const spacing = this.vertical.noSpacing ? 0 : this.options.spacing\n            const adjust = win.minimized ? (win.width - win.width * win.minimized.scaleX) / 2 : 0\n            switch (this.vertical.side)\n            {\n                case 'left':\n                    win.x = this.vertical.x - adjust + spacing + this.options.indicator / 2\n                    break\n\n                case 'right':\n                    win.right = Math.floor(this.vertical.x + adjust - spacing + this.options.indicator / 2)\n                    break\n            }\n            win.attachToScreen('horziontal', this.vertical.screen ? this.vertical.side : '')\n        }\n        this.horizontal.style.display = this.vertical.style.display = 'none'\n    }\n}","import { html } from './html'\r\nimport { Window } from './Window'\r\nimport { windowOptions } from './windowOptions'\r\nimport { Snap } from './Snap'\r\nexport { Window } from './Window'\r\n\r\nconst windowManagerOptions = {\r\n    parent: document.body,\r\n    quiet: false,\r\n    keepInside: true,\r\n    snap: true\r\n}\r\n\r\n/**\r\n * Creates a windowing system to create and manage windows\r\n *\r\n * @extends EventEmitter\r\n * @example\r\n * var wm = new WindowManager();\r\n *\r\n * wm.createWindow({ x: 20, y: 20, width: 200 })\r\n * wm.content.innerHTML = 'Hello there!'\r\n */\r\nexport class WindowManager\r\n{\r\n    /**\r\n     * @param {object} [options]\r\n     * @param {HTMLElement} [options.parent=document.body]\r\n     * @param {boolean} [options.quiet] suppress the simple-window-manager console message\r\n     * @param {(boolean|SnapOptions)} [options.snap] turn on edge and/or screen snapping\r\n     * @param {(boolean|'horizontal'|'vertical')} [options.keepInside=true] keep windows inside the parent in a certain direction\r\n     * @param {WindowOptions} [defaultOptions] default WindowOptions used when createWindow is called\r\n     */\r\n    constructor(options={}, defaultOptions={})\r\n    {\r\n        this.windows = []\r\n        this.active = null\r\n        this.options = Object.assign({}, windowManagerOptions, options)\r\n        this.defaultOptions = Object.assign({}, windowOptions, defaultOptions)\r\n        if (!this.options.quiet)\r\n        {\r\n            console.log('%c ☕ simple-window-manager initialized ☕', 'color: #ff00ff')\r\n        }\r\n        this._createDom(options.parent || document.body)\r\n        if (this.options.snap)\r\n        {\r\n            this.snap(this.options.snap === true ? {} : this.options.snap)\r\n        }\r\n        window.addEventListener('resize', () => this.resize())\r\n    }\r\n\r\n    /**\r\n     * Create a window\r\n     * @param {WindowOptions} [options]\r\n     * @param {string} [options.title]\r\n     * @param {number} [options.x] position\r\n     * @param {number} [options.y] position\r\n     * @param {boolean} [options.modal]\r\n     * @param {(number|*)} [options.id] if not provide, id will be assigned in order of creation (0, 1, 2...)\r\n     * @returns {Window} the created window\r\n     */\r\n    createWindow(options={})\r\n    {\r\n        const win = new Window(this, Object.assign({}, this.defaultOptions, options))\r\n        win.on('open', () => this._open(win))\r\n        win.on('focus', () => this._focus(win))\r\n        win.on('blur', () => this._blur(win))\r\n        win.on('close', () => this._close(win))\r\n        win.win.addEventListener('mousemove', (e) => this._move(e))\r\n        win.win.addEventListener('touchmove', (e) => this._move(e))\r\n        win.win.addEventListener('mouseup', (e) => this._up(e))\r\n        win.win.addEventListener('touchend', (e) => this._up(e))\r\n        if (this._snap && !options.noSnap)\r\n        {\r\n            this._snap.addWindow(win)\r\n        }\r\n        win.resizePlacement(this.bounds, this.options.keepInside)\r\n        if (win.options.openOnCreate)\r\n        {\r\n            win.open()\r\n        }\r\n        return win\r\n    }\r\n\r\n    /**\r\n     * Attach an existing window to the WindowManager\r\n     * Note: WindowManager.createWindow is the preferred way to create windows to ensure that all the defaultOptions\r\n     * are applied to the Window. If you use this function, then Window needs to be initialized with WindowOptions.\r\n     * @param {Window} win\r\n     * @returns {Window} the window\r\n     */\r\n    attachWindow(win)\r\n    {\r\n        win.on('open', this._open, this)\r\n        win.on('focus', this._focus, this)\r\n        win.on('blur', this._blur, this)\r\n        win.on('close', this._close, this)\r\n        this.win.appendChild(win.win)\r\n        win.wm = this\r\n        win.win.addEventListener('mousemove', (e) => this._move(e))\r\n        win.win.addEventListener('touchmove', (e) => this._move(e))\r\n        win.win.addEventListener('mouseup', (e) => this._up(e))\r\n        win.win.addEventListener('touchend', (e) => this._up(e))\r\n        if (this._snap && !this.defaultOptions.noSnap)\r\n        {\r\n            this._snap.addWindow(win)\r\n        }\r\n        return win\r\n    }\r\n\r\n    /**\r\n     * enable edge and/or screen snapping\r\n     * @param {SnapOptions} options\r\n     */\r\n    snap(options)\r\n    {\r\n        this._snap = new Snap(this, options)\r\n        for (let win of this.windows)\r\n        {\r\n            if (!win.options.noSnap)\r\n            {\r\n                this._snap.addWindow(win)\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * send window to front\r\n     * @param {Window} win\r\n     */\r\n    sendToFront(win)\r\n    {\r\n        const index = this.windows.indexOf(win)\r\n        console.assert(index !== -1, 'sendToFront should find window in this.windows')\r\n        if (index !== this.windows.length - 1)\r\n        {\r\n            this.windows.splice(index, 1)\r\n            this.windows.push(win)\r\n            this._reorder()\r\n        }\r\n    }\r\n\r\n    /**\r\n     * send window to back\r\n     * @param {Window} win\r\n     */\r\n    sendToBack(win)\r\n    {\r\n        const index = this.windows.indexOf(win)\r\n        console.assert(index !== -1, 'sendToFront should find window in this.windows')\r\n        if (index !== 0)\r\n        {\r\n            this.windows.splice(index, 1)\r\n            this.windows.unshift(win)\r\n            this._reorder()\r\n        }\r\n    }\r\n\r\n    /**\r\n     * save the state of all the windows\r\n     * @returns {object} use this object in load() to restore the state of all windows\r\n     */\r\n    save()\r\n    {\r\n        const data = {}\r\n        for (let i = 0; i < this.windows.length; i++)\r\n        {\r\n            const entry = this.windows[i]\r\n            data[entry.id] = entry.save()\r\n            data[entry.id].order = i\r\n        }\r\n        return data\r\n    }\r\n\r\n    /**\r\n     * restores the state of all the windows\r\n     * NOTE: this requires that the windows have the same id as when save() was called\r\n     * @param {object} data created by save()\r\n     */\r\n    load(data)\r\n    {\r\n        for (let i = 0; i < this.windows.length; i++)\r\n        {\r\n            const entry = this.windows[i]\r\n            if (data[entry.id])\r\n            {\r\n                entry.load(data[entry.id])\r\n            }\r\n        }\r\n        // reorder windows\r\n    }\r\n\r\n    /**\r\n     * close all windows\r\n     */\r\n    closeAll()\r\n    {\r\n        for (let win of this.windows)\r\n        {\r\n            win.close()\r\n        }\r\n        this.windows = []\r\n        this.active = null\r\n    }\r\n\r\n    /**\r\n     * reorder windows\r\n     * @private\r\n     * @returns {number} available z-index for top window\r\n     */\r\n    _reorder()\r\n    {\r\n        let i = 0\r\n        for (const win of this.windows)\r\n        {\r\n            if (!win.isClosed())\r\n            {\r\n                win.z = i++\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {HTMLElement} parent\r\n     */\r\n    _createDom(parent)\r\n    {\r\n        /**\r\n         * This is the top-level DOM element\r\n         * @type {HTMLElement}\r\n         * @readonly\r\n         */\r\n        this.win = html({\r\n            parent, styles: {\r\n                'user-select': 'none',\r\n                'width': '100%',\r\n                'height': '100%',\r\n                'overflow': 'hidden',\r\n                'z-index': -1,\r\n                'cursor': 'default'\r\n            }\r\n        })\r\n\r\n        /**\r\n         * This is the bottom DOM element. Use this to set a wallpaper or attach elements underneath the windows\r\n         * @type {HTMLElement}\r\n         * @readonly\r\n         */\r\n        this.overlay = html({\r\n            parent: this.win, styles: {\r\n                'user-select': 'none',\r\n                'position': 'absolute',\r\n                'top': 0,\r\n                'left': 0,\r\n                'width': '100%',\r\n                'height': '100%',\r\n                'overflow': 'hidden'\r\n            }\r\n        })\r\n        this.overlay.addEventListener('mousemove', (e) => this._move(e))\r\n        this.overlay.addEventListener('touchmove', (e) => this._move(e))\r\n        this.overlay.addEventListener('mouseup', (e) => this._up(e))\r\n        this.overlay.addEventListener('touchend', (e) => this._up(e))\r\n\r\n        this.modalOverlay = html({\r\n            parent: this.win,\r\n            styles: {\r\n                'display': 'none',\r\n                'user-select': 'none',\r\n                'position': 'absolute',\r\n                'top': 0,\r\n                'left': 0,\r\n                'width': '100%',\r\n                'height': '100%',\r\n                'overflow': 'hidden',\r\n                'background': this.defaultOptions.backgroundModal\r\n            }\r\n        })\r\n        this.modalOverlay.addEventListener('mousemove', (e) => { this._move(e); e.preventDefault(); e.stopPropagation() })\r\n        this.modalOverlay.addEventListener('touchmove', (e) => { this._move(e); e.preventDefault(); e.stopPropagation() })\r\n        this.modalOverlay.addEventListener('mouseup', (e) => { this._up(e); e.preventDefault(); e.stopPropagation() })\r\n        this.modalOverlay.addEventListener('touchend', (e) => { this._up(e); e.preventDefault(); e.stopPropagation() })\r\n        this.modalOverlay.addEventListener('mousedown', (e) => { e.preventDefault(); e.stopPropagation() })\r\n        this.modalOverlay.addEventListener('touchstart', (e) => { e.preventDefault(); e.stopPropagation() })\r\n    }\r\n\r\n    _open(win)\r\n    {\r\n        this.windows.push(win)\r\n        this._reorder()\r\n        if (win.options.modal)\r\n        {\r\n            this.modalOverlay.style.display = 'block'\r\n            this.modalOverlay.style.zIndex = win.z\r\n        }\r\n        else\r\n        {\r\n            this.modalOverlay.style.display = 'none'\r\n        }\r\n    }\r\n\r\n    _focus(win)\r\n    {\r\n        if (this.active === win)\r\n        {\r\n            return\r\n        }\r\n        if (this.active)\r\n        {\r\n            this.active.blur()\r\n        }\r\n        const index = this.windows.indexOf(win)\r\n        console.assert(index !== -1, 'WindowManager._focus should find window in this.windows')\r\n        if (index !== this.windows.length - 1)\r\n        {\r\n            this.windows.splice(index, 1)\r\n            this.windows.push(win)\r\n        }\r\n        this._reorder()\r\n        this.active = this.windows[this.windows.length - 1]\r\n    }\r\n\r\n    _blur(win)\r\n    {\r\n        if (this.active === win)\r\n        {\r\n            this.active = null\r\n        }\r\n    }\r\n\r\n    _close(win)\r\n    {\r\n        const index = this.windows.indexOf(win)\r\n        console.assert(index !== -1, 'WindowManager._close should find window in this.windows')\r\n        this.windows.splice(index, 1)\r\n        const next = this.windows[this.windows.length - 1]\r\n        if (win.isModal(true))\r\n        {\r\n            if (next && next.isModal())\r\n            {\r\n                this.modalOverlay.style.zIndex = next.z\r\n            }\r\n            else\r\n            {\r\n                this.modalOverlay.style.display = 'none'\r\n            }\r\n        }\r\n        next.focus()\r\n    }\r\n\r\n    _move(e)\r\n    {\r\n        for (const key in this.windows)\r\n        {\r\n            this.windows[key]._move(e)\r\n        }\r\n    }\r\n\r\n    _up(e)\r\n    {\r\n        for (const key in this.windows)\r\n        {\r\n            this.windows[key]._up(e)\r\n        }\r\n    }\r\n\r\n    checkModal(win)\r\n    {\r\n        return !this.modal || this.modal === win\r\n    }\r\n\r\n    /** @type {Bounds} */\r\n    get bounds()\r\n    {\r\n        return {\r\n            top: this.win.offsetTop,\r\n            bottom: this.win.offsetTop + this.win.offsetHeight,\r\n            left: this.win.offsetLeft,\r\n            right: this.win.offsetLeft + this.win.offsetWidth\r\n        }\r\n    }\r\n\r\n    resize()\r\n    {\r\n        const bounds = this.bounds\r\n        for (const key in this.windows)\r\n        {\r\n            this.windows[key].resizePlacement(bounds, this.options.keepInside)\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * @typedef {object} SnapOptions\r\n * @property {boolean} [screen=true] snap to screen edges\r\n * @property {boolean} [windows=true] snap to window edges\r\n * @property {number} [snap=20] distance to edge before snapping\r\n * @property {string} [color=#a8f0f4] color for snap bars\r\n * @property {number} [spacing=0] spacing distance between window and edges\r\n */\r\n\r\n/**\r\n * @typedef {object} Bounds\r\n * @property {number} left\r\n * @property {number} right\r\n * @property {number} top\r\n * @property {number} bottom\r\n */"],"names":["html","options","object","document","createElement","type","parent","appendChild","styles","Object","assign","style","className","innerHTML","has","prototype","hasOwnProperty","prefix","Events","EE","fn","context","once","this","addListener","emitter","event","TypeError","listener","evt","_events","push","_eventsCount","clearEvent","EventEmitter","create","__proto__","eventNames","events","name","names","call","slice","getOwnPropertySymbols","concat","listeners","handlers","i","l","length","ee","Array","listenerCount","emit","a1","a2","a3","a4","a5","args","len","arguments","removeListener","undefined","apply","j","on","removeAllListeners","off","prefixed","module","defaultOptions","threshold","clicked","mouse","touch","doubleClicked","doubleClickedTime","longClicked","longClickedTime","capture","clickDown","element","callback","Clicked","[object Object]","querySelector","createListeners","console","warn","mousedown","e","mouseup","mousemove","touchstart","touchmove","touchcancel","cancel","touchend","addEventListener","passive","removeEventListener","down","touches","handleDown","changedTouches","screenX","screenY","x","y","Math","abs","lastX","lastY","pastThreshold","doubleClickedTimeout","clearTimeout","longClickedTimeout","preventDefault","handleClicks","setTimeout","doubleClickedCancel","button","indexOf","checkMouseButtons","time","Window","wm","super","id","_createWindow","_listeners","active","maximized","_closed","_restore","_moving","_resizing","_attachedToScreen","vertical","horziontal","noFocus","win","display","focus","titlebar","winTitlebar","backgroundColor","backgroundTitlebarActive","backgroundTitlebarInactive","closed","value","_buildTransform","transform","width","offsetWidth","height","offsetHeight","keepInside","bounds","right","left","bottom","top","maximizable","buttons","maximize","maximizeButton","overlay","restoreButton","sendToBack","sendToFront","data","close","open","title","_title","winTitle","innerText","move","window","innerWidth","innerHeight","border-radius","borderRadius","user-select","overflow","position","min-width","minWidth","min-height","minHeight","box-shadow","shadow","background-color","backgroundWindow","isNaN","classNames","winBox","flex-direction","_createTitlebar","content","flex","overflow-x","overflow-y","resizable","_createResize","_downTitlebar","stopPropagation","_convertMoveEvent","pageX","pageY","_moved","align-items","justify-content","titlebarHeight","border","padding","winTitleStyles","cursor","margin","font-size","font-weight","color","foregroundTitle","titleCenter","_createButtons","movable","winButtonGroup","padding-left","margin-left","background-size","background-repeat","opacity","foregroundButton","outline","closable","closeButton","key","resizeEdge","backgroundResize","background","_isTouchEvent","which","_stopMove","_stopResize","resize","TouchEvent","direction","location","horizontal","ignoreClosed","modal","z","parseInt","zIndex","windowOptions","openOnCreate","backgroundModal","SnapOptionsDefault","screen","windows","snap","spacing","indicator","Snap","highlights","showing","remove","stopped","moveEnd","rect","body","clientWidth","clientHeight","distance","side","original","noSnap","rect2","getBoundingClientRect","noSpacing","isModal","screenMove","windowsMove","sort","a","b","find","adjust","minimized","scaleY","floor","attachToScreen","scaleX","windowManagerOptions","quiet","log","_createDom","_open","_focus","_blur","_close","_move","_up","_snap","addWindow","resizePlacement","index","assert","splice","_reorder","unshift","entry","save","order","load","isClosed","z-index","modalOverlay","blur","next","offsetTop","offsetLeft"],"mappings":"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"}